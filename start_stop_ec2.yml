# Code Generated by Sidekick is for learning and experimentation purposes only.
---
- name: Start or Stop EC2 Instances
  hosts: localhost
  gather_facts: false
  vars:
    aws_region: ap-south-1
    instance_ids: ['i-033aabe2b1aadeada', 'i-032ae25045e67e45e']
    ec2_state: running    # Change to 'running' to start instances, 'stopped' to stop
  tasks:
    - name: Start or Stop EC2 Instances
      amazon.aws.ec2_instance:
        instance_ids: "{{ instance_ids }}"
        region: "{{ aws_region }}"
        state: "{{ ec2_state }}"
      register: result

    - name: Show Result
      debug:
        var: result
